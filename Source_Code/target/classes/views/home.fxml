<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableView?>

<ScrollPane fitToWidth="true" styleClass="main-scroll-pane" xmlns="http://javafx.com/javafx/21.0.2" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.redcell.HomeController">
    <VBox spacing="20" styleClass="home-container">
        <!-- Blood Availability Section -->
        <VBox styleClass="section-container">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15" />
            </padding>
            <Text styleClass="section-header" text="Blood Availability Status" />
            
            <!-- Blood Availability Container -->
            <HBox styleClass="blood-types-container" alignment="CENTER">
                <!-- Flexible space on the left -->
                <Region HBox.hgrow="ALWAYS" maxWidth="50" />
                
                <!-- Blood Types Flow -->
                <HBox spacing="8" alignment="CENTER" HBox.hgrow="NEVER">
                    <!-- A Types -->
                    <VBox alignment="CENTER" styleClass="blood-type-tile,available">
                        <Text styleClass="blood-type" text="A+" />
                        <Text styleClass="blood-status" text="Available" />
                    </VBox>
                    <VBox alignment="CENTER" styleClass="blood-type-tile,low">
                        <Text styleClass="blood-type" text="A-" />
                        <Text styleClass="blood-status" text="Low" />
                    </VBox>
                    
                    <!-- B Types -->
                    <VBox alignment="CENTER" styleClass="blood-type-tile,available">
                        <Text styleClass="blood-type" text="B+" />
                        <Text styleClass="blood-status" text="Available" />
                    </VBox>
                    <VBox alignment="CENTER" styleClass="blood-type-tile,critical">
                        <Text styleClass="blood-type" text="B-" />
                        <Text styleClass="blood-status" text="Critical" />
                    </VBox>
                    
                    <!-- O Types -->
                    <VBox alignment="CENTER" styleClass="blood-type-tile,available">
                        <Text styleClass="blood-type" text="O+" />
                        <Text styleClass="blood-status" text="Available" />
                    </VBox>
                    <VBox alignment="CENTER" styleClass="blood-type-tile,low">
                        <Text styleClass="blood-type" text="O-" />
                        <Text styleClass="blood-status" text="Low" />
                    </VBox>
                    
                    <!-- AB Types -->
                    <VBox alignment="CENTER" styleClass="blood-type-tile,available">
                        <Text styleClass="blood-type" text="AB+" />
                        <Text styleClass="blood-status" text="Available" />
                    </VBox>
                    <VBox alignment="CENTER" styleClass="blood-type-tile,low">
                        <Text styleClass="blood-type" text="AB-" />
                        <Text styleClass="blood-status" text="Low" />
                    </VBox>
                </HBox>
                
                <!-- Flexible space on the right -->
                <Region HBox.hgrow="ALWAYS" maxWidth="50" />
            </HBox>
        </VBox>

        <!-- Quick Stats Section -->
        <VBox styleClass="section-container">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15" />
            </padding>
            <Text styleClass="section-header" text="Quick Statistics" />
            
            <HBox spacing="15" styleClass="stats-container">
                <VBox styleClass="stat-tile" HBox.hgrow="ALWAYS">
                    <VBox alignment="CENTER">
                        <Text fx:id="mostRequestedType" styleClass="stat-value" />
                        <Text styleClass="stat-label" text="Most Requested" />
                    </VBox>
                </VBox>
                <VBox styleClass="stat-tile" HBox.hgrow="ALWAYS">
                    <VBox alignment="CENTER">
                        <Text fx:id="pendingRequests" styleClass="stat-value" />
                        <Text styleClass="stat-label" text="Pending Requests" />
                    </VBox>
                </VBox>
                <VBox styleClass="stat-tile" HBox.hgrow="ALWAYS">
                    <VBox alignment="CENTER">
                        <Text fx:id="livesSaved" styleClass="stat-value" />
                        <Text styleClass="stat-label" text="Lives Saved" />
                    </VBox>
                </VBox>
                <VBox styleClass="stat-tile" HBox.hgrow="ALWAYS">
                    <VBox alignment="CENTER">
                        <Text fx:id="activeDonors" styleClass="stat-value" />
                        <Text styleClass="stat-label" text="Active Donors" />
                    </VBox>
                </VBox>
            </HBox>
        </VBox>

        <!-- Recent Requests Section -->
        <VBox styleClass="section-container">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15" />
            </padding>
            <Text styleClass="section-header" text="Recent Blood Requests" />
            <TableView fx:id="recentRequestsTable" VBox.vgrow="ALWAYS" styleClass="recent-requests-table">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
            </TableView>
        </VBox>

        <!-- Available Donors Section -->
        <VBox styleClass="section-container">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15" />
            </padding>
            <Text styleClass="section-header" text="Available Donors" />
            <HBox spacing="20" styleClass="donors-container">
                <GridPane fx:id="donorsGrid" hgap="20" vgap="20">
                    <!-- Donor cards will be added dynamically -->
                </GridPane>
            </HBox>
        </VBox>

        <!-- News Section -->
        <VBox styleClass="section-container">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15" />
            </padding>
            <Text styleClass="section-header" text="News" />
            <HBox spacing="20" styleClass="news-container">
                <VBox styleClass="news-card" HBox.hgrow="ALWAYS" onMouseClicked="#showNewsDetails1">
                    <ImageView fitHeight="150.0" fitWidth="380.0" preserveRatio="true">
                        <Image url="@../img/banner-ad-01.png" />
                    </ImageView>
                </VBox>
                <VBox styleClass="news-card" HBox.hgrow="ALWAYS" onMouseClicked="#showNewsDetails2">
                    <ImageView fitHeight="150.0" fitWidth="380.0" preserveRatio="true">
                        <Image url="@../img/banner-ad-02.png" />
                    </ImageView>
                </VBox>
            </HBox>
        </VBox>
    </VBox>
</ScrollPane>
 